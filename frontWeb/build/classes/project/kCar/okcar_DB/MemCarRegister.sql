-- 회원정보
CREATE TABLE MEM_INFO(
	MEM_ID VARCHAR2(30) PRIMARY KEY,
	MEM_PASS VARCHAR2(20) NOT NULL,
	LICENSE_ID VARCHAR2(15) UNIQUE,
	MNAME VARCHAR2(30) NOT NULL,
	EMAIL VARCHAR2(50) NOT NULL,
	PHONE VARCHAR2(11) NOT NULL,
	AUTH VARCHAR2(20) NOT NULL
);
DROP TABLE MEM_CAR_REGISTER ;
DROP TABLE mem_info;

-- 회원등록차량정보
CREATE TABLE MEM_CAR_REGISTER(
	REGIST_ID VARCHAR2(7) PRIMARY KEY,
	MEM_ID VARCHAR2(30),
	CAR_NUM VARCHAR2(10) UNIQUE,
	MODEL VARCHAR2(50) NOT NULL,
	DRIVE_DIST NUMBER(6),
	ADDRESS VARCHAR2(30) NOT NULL,
	WANT_TIME DATE,
	REG_TIME DATE,
	EVAL VARCHAR2(5),
	FOREIGN KEY (MEM_ID) REFERENCES MEM_INFO (MEM_ID)
	ON DELETE CASCADE
);

ALTER TABLE MEM_CAR_REGISTER ADD EVAL VARCHAR2(5) DEFAULT 'FALSE';
-- REGIST_ID에 사용할 시퀀스
CREATE SEQUENCE REGIST_SEQ
	START WITH 1
	MAXVALUE 999;


INSERT INTO MEM_CAR_REGISTER VALUES 
('MCR-'||REGIST_SEQ.nextval,'khs950','33바3520','그랜쟈',150000,'서울시 은평구',(sysdate+7),sysdate,'FALSE');
INSERT INTO MEM_CAR_REGISTER VALUES 
('MCR-'||REGIST_SEQ.nextval,'kdh940','18바8515','소나타',180000,'전라도 광주',(sysdate+3),sysdate,'FALSE');
INSERT INTO MEM_CAR_REGISTER VALUES 
('MCR-'||REGIST_SEQ.nextval,'les999','62누6952','케이파이브',50000,'경상도 대구',(sysdate+30),sysdate,'FALSE');
INSERT INTO MEM_CAR_REGISTER VALUES 
('MCR-'||REGIST_SEQ.nextval,'lsj960','31오7420','크루저',19000,'경기도 부천',(sysdate+14),sysdate,'FALSE');
INSERT INTO MEM_CAR_REGISTER VALUES 
('MCR-'||REGIST_SEQ.nextval,'aaa123','07오0252','그랜저',50000,'경상도 대구',(sysdate+30),sysdate,'FALSE');
INSERT INTO MEM_CAR_REGISTER VALUES 
('MCR-'||REGIST_SEQ.nextval,'12abddd','09구5500','아방',19000,'경기도 부천',(sysdate+14),sysdate,'FALSE');
INSERT INTO MEM_CAR_REGISTER VALUES 
('MCR-'||REGIST_SEQ.nextval,'Restqq','40머5052','케파',50000,'경상도 대구',(sysdate+30),sysdate,'FALSE');
INSERT INTO MEM_CAR_REGISTER VALUES 
('MCR-'||REGIST_SEQ.nextval,'doubledra','02오2222','말리부',19000,'경기도 부천',(sysdate+14),sysdate,'FALSE');



INSERT ALL
INTO MEM_INFO VALUES ('khs950','!!hs1995','11-11-111111-11','김학수','hackssu@naver.com','01098746658','회원')
INTO MEM_INFO VALUES ('kdh940','@@dh1994','12-12-121212-12','김동현','donghyun@naver.com','01095481248','회원')
INTO MEM_INFO VALUES ('les999','##es1999','31-31-111111-11','이은서','eunseo@naver.com','01033559955','관리자')
INTO MEM_INFO VALUES ('lsj960','!!sj1996','11-11-555555-11','임소정','sojung@naver.com','01093122658','회원')
INTO MEM_INFO VALUES ('aaa123','!!sj1996','14-11-512355-11','임소정','sojung@naver.com','01093122658','회원')
INTO MEM_INFO VALUES ('12abddd','!!sj1996','12-11-435515-11','임소정','sojung@naver.com','01093122658','회원')
INTO MEM_INFO VALUES ('doubledra','!!sj1996','21-11-554433-11','임소정','sojung@naver.com','01093122658','회원')
INTO MEM_INFO VALUES ('Restqq','!!sj1996','16-11-587655-11','임소정','sojung@naver.com','01093122658','회원')
SELECT * FROM dual;

SELECT * FROM MEM_INFO;


-- DELETE MEM_INFO WHERE mem_id = ?
DELETE MEM_INFO WHERE mem_id = ;
SELECT * FROM MEM_CAR_REGISTER mcr ORDER BY WANT_TIME ASC;


